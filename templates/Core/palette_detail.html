<div class="container">
    <div class="d-flex justify-content-between m-0">
        <h5 class="mt-3 fw-bold">Paleta {{ palette.name }}</h5>
        {#    <p>Nalozenych:<b>{% if palette.load_weight == None %}#}
        {#        0#}
        {#    {% else %}#}
        {#        {{ palette.load_weight|floatformat:2 }}#}
        {#    {% endif %}#}
        {#    </b> kg</p>#}
        <button class="btn btn-success btn-sm mt-3 mb-0" type="button"
                hx-get="{% url 'add_sheet_to_palette' palette.pk %}"
                hx-target="#modalsFrame"
        >Pridat plech
        </button>
    </div>
    <hr>
    {#    <h6 class="text-center fw-bold mt-4">Zoznam plechov</h6>#}
    <div class="card card-scroll border-0 m-0 p-0" style="max-height: 70vh">
        <table class="table table-sm table-striped">
            <thead class="sticky-top">
            <tr>
                <th>Plech</th>
                <th>Ks</th>
                <th>Poznamka</th>
                <th></th>
            </tr>
            </thead>
            <tbody id="sheetTable">
            {% for s in sheets %}
                <tr id="trData">
                    <td>{{ s.sheet.material }}, {{ s.sheet.surface }}, {{ s.sheet.thickness }}x{{ s.sheet.size_x }}x{{ s.sheet.size_y }}</td>
                    <td>{{ s.quantity }}</td>
                    <td>
                        {% if s.note %}
                            {{ s.note }}
                        {% else %}
                        {% endif %}
                    </td>
                    <td class="m-0 p-0">
                        <div class="d-flex justify-content-end">
{#                            <button class="btn btn-sm btn-info me-1" type="button"#}
{#                                    hx-get="{% url 'palette_edit' s.pk %}"#}
{#                                    hx-trigger="click"#}
{#                                    hx-target="#editFrame"#}
{#                                    hx-swap="this"#}
{#                            ><i class="fa-sharp fa-solid fa-pen-to-square"></i>#}
{#                            </button>#}
                            <button class="btn btn-sm btn-info me-1" type="button"
                                    hx-get="{% url 'palette_edit' s.pk %}"
                                    hx-trigger="click"
                                    hx-target="#modalsFrame"
                                    _="on htmx:afterOnLoad wait 10ms then add .show to #modal then add .show to #modal-backdrop"
                            ><i class="fa-sharp fa-solid fa-pen-to-square"></i>
                            </button>
                            <button class="btn btn-sm btn-danger" type="button"
                                    hx-post="{% url 'sheet_on_palette_delete' s.pk %}"
                                    hx-trigger="click"
                                    hx-confirm="Naozaj chces zmazat plech {{ s }}"
                                    hx-on="htmx:afterRequest: removeParentElement()"
                                    hx-target="#formFrame"
                            ><i class="fa-sharp fa-solid fa-trash"></i>
                            </button>
                        </div>
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>

</div>

