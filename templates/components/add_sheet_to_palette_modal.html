<div id="modal-backdrop" class="modal-backdrop fade show" style="display:block;"></div>
<div id="modal" class="modal fade show" tabindex="-1" style="display:block;">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content rounded-4">
            <div class="mt-3">

                <form role="form" method="POST"
                      class="container"
                      hx-post="{% url 'add_sheet_to_palette' palette_id %}"
                      hx-swap="this"
                      hx-target="#formFrame"
                      hx-on="htmx:afterRequest: this.remove()"
                        {#          hx-on="htmx:afterRequest: location.reload()"#}>
                    <div class="">
                        <h6 class="fw-bold">Pridat plech</h6>
                        <hr>
                    </div>
                    <input type="hidden" name="palette" value="{{ palette_id }}">
                    {#            {{ form }}#}
                    <div class="my-2">
                        <label class="me-5 text-black" for="">Plech</label>
                        {{ form.sheet }}
                        <button class="btn btn-success btn-sm" type="button"
                                hx-get="{% url 'sheet_add' %}"
                                hx-target="#modalsFrame"
                                hx-swap="this"
                        >Vytvorit plech
                        </button>
                    </div>
                    <div class="my-2">
                        <label class="me-5 text-black" for="">Pocet</label>
                        {{ form.quantity }}
                    </div>
                    <div class="my-2">
                        <label class="me-3 text-black" for="">Poznamka</label>
                        {{ form.note }}
                    </div>


                    <div class="mb-2 text-center">
                        <button class="btn btn-sm btn-info" type="submit" onclick="closeModal()">Ulozit</button>
                        <button class="btn btn-sm btn-secondary"  onclick="closeModal()"
                                hx-on="click: handleCancelClick()" type="button">Zrusit
                        </button>
                    </div>
                    {% if form.errors %}
                        <div class="alert alert-danger">
                            <strong>Chyba!</strong>
                            <ul>
                                {% for field_errors in form.errors.values %}
                                    {% for error in field_errors %}
                                        <li>{{ error }}</li>
                                    {% endfor %}
                                {% endfor %}
                            </ul>
                        </div>
                    {% endif %}
                </form>
            </div>
        </div>
    </div>
</div>